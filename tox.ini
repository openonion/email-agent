[tox]
# Tox configuration for Gmail Agent
envlist = py39,py310,py311,py312
skipsdist = True

[testenv]
# Install dependencies
deps =
    pytest>=7.0.0
    pytest-cov>=4.0.0
    -r requirements.txt

# Set PYTHONPATH
setenv =
    PYTHONPATH = {toxinidir}

# Run tests
commands =
    pytest {posargs:tests/}

[testenv:unit]
# Run only unit tests
commands =
    pytest -m unit {posargs:tests/}

[testenv:integration]
# Run only integration tests
commands =
    pytest -m integration {posargs:tests/}

[testenv:coverage]
# Run tests with coverage report
commands =
    pytest --cov=. --cov-report=term-missing --cov-report=html {posargs:tests/}

[testenv:lint]
# Linting (optional)
deps =
    flake8
    black
commands =
    flake8 agent.py tests/
    black --check agent.py tests/

[testenv:format]
# Auto-format code
deps =
    black
commands =
    black agent.py tests/
